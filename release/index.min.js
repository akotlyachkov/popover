!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?exports.SocialUtils=e(require("jquery")):t.SocialUtils=e(t.$)}(this,function(t){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=15)}([function(t,e,n){"use strict";function o(t){if(t){t.map(function(t){t.socialLinkPicture="https://integrum.ru/Assets/img/social/small/"+t.socialKey+".png",t.photoPreview||(t.photoPreview="/Images/default-image.png")});var e=t.map(function(t){return t.workPosition&&void 0===t.workPositionTemplate?t.workPosition=g(t):t.workPosition||(t.workPosition=""),t.work&&void 0===t.workTemplate?t.workTemplate=h(t):t.work||(t.workTemplate=""),s(t)}),n=e.join("\n");return a({profilesHtml:n})}}function r(){u.fn.popover.Constructor.prototype.getCalculatedOffset=function(t,e,n,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"bottom-right"==t?{top:e.top+e.height,left:e.left}:"bottom-left"==t?{top:e.top+e.height,left:e.left+e.width-n}:"top"==t?{top:e.top-o,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-n}:{top:e.top+e.height/2-o/2,left:e.left+e.width}}}function i(t,e){function n(t,n){var o=t.currentTarget,r=u(o).data("options"),l=u(o).data("profile")&&u(o).data("profile").profiles||null;if(u(o).popover("show"),u(".popover-content").html(p()),e.isIchp&&(r.isIchp=!0),m.forEach(function(t){u(t).not(o).popover("hide")}),l&&l.length)return i(),void c(n,l);a=u.ajax({url:e.url,method:"POST",beforeSend:i,data:JSON.stringify(r),contentType:"application/json; charset=utf-8",dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0},statusCode:{401:function(){location.reload()}},success:c(n),error:s(n)})}function i(t){t&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),a&&a.abort()}function c(t,e){var n="";return e&&(n=o(e),u(".popover-content").html(n)),function(t){if(!t)return void s("response is null");a=null,n=t&&0==t.length?d():o(t),u(".popover-content").html(n)}}function s(t){if("response is null"===t){var e=f();return void u(".popover-content").html(e)}return function(t){if(a=null,"abort"!=t.statusText){var e=f();u(".popover-content").html(e)}}}var a=null;if(e=e||{},!jQuery)throw new Error("Необходимо предварительно подключить jQuery.js");if(!t)throw new Error("Необходимо указать селектор элемента, при клике на который нужно показывать поповер");if(!e.triggerEvent||"hover"!==e.triggerEvent.toLowerCase()&&"click"!==e.triggerEvent.toLowerCase())throw new Error('Необходимо указать тип события для инициализации тултипа: "hover" или "click"');if(!u.fn.popover)throw new Error("Необходимо предварительно подключить bootstrap popover.js");r(),m.add(t),m.forEach(function(t){var o=v.randomInteger(1e4,99999),r=".js-popover-content-hook-"+o,i=u(t);i.data("event-type")||i.data("event-type",e.triggerEvent.toLowerCase()),i.popover({html:!0,container:"html",placement:e.popoverPlacement?e.popoverPlacement:"bottom-right",trigger:"manual",template:l({contentHook:r.replace(/\./g,""),initedBy:e.triggerEvent}),content:p()}),"hover"===i.data("event-type")?(u(document).off("mouseenter",t),u(document).on("mouseenter",t,function(t){return n(t,r)}),u(document).on("mouseleave",t,function(e){var o=e.currentTarget,i=e.relatedTarget;if(u(document).off("mouseenter",t),u(i).hasClass("popover"))return u(document).off("mouseleave",".popover"),void u(document).on("mouseleave",".popover",function(e){"click"!==u(".popover").data("triggerType")&&(u(e.relatedTarget).parents(t).length||(u(document).on("mouseenter",t,function(t){return n(t,r)}),u(e.currentTarget).popover("hide")))});u(document).on("mouseenter",t,function(t){return n(t,r)}),u(o).popover("hide")})):"click"===i.data("event-type")&&(u(document).off("click",t),u(document).on("click",t,function(t){return n(t,r)}),u(document).on("click","body",function(t){"popover"!==u(t.target).data("toggle")&&0===u(t.target).parents(".popover.in").length&&m.forEach(function(t){u(t).popover("hide")})}),u(document).on("hidden.bs.popover","body",function(t){u(t.target).data("bs.popover").inState.click=!1}))})}function c(){var t;return t||(t=function(){return{init:i,selectors:m}}()),t}Object.defineProperty(e,"__esModule",{value:!0});var u=n(2),s=n(11),a=n(10),l=n(5),p=n(12),f=n(7),d=n(6),h=n(13),g=n(14),v=n(1),m=(function(){function t(){}}(),new Set);e.Popover=c},function(t,e,n){"use strict";function o(t,e){var n=t-.5+Math.random()*(e-t+1);return n=Math.round(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.randomInteger=o},function(e,n){e.exports=t},function(t,e,n){"use strict";function o(t,e){if(e=e||{},!jQuery)throw new Error("Необходимо предварительно подключить jQuery.js");if(!t)throw new Error("Необходимо указать селектор элемента, около которого нужно показать социальные иконки");if(!e.iconPath)throw new Error("Необходимо указать options.iconPath - путь для социальной иконки");if(!e.iconExt)throw new Error("Необходимо указать options.iconExt - расширение файла социальной иконки");r(t).toArray().forEach(function(t){var n=s.randomInteger(1e4,99999),o=r(t),l=o.data("options")||{},p=Number(l.orgid)||Number(l.orgId),f=l.profiles||null,d=e.iconHook||".js-social-icons-"+n,h=l.position||e.position||"right",g=a.isUndefined(l.popover)?!a.isUndefined(e.popover)&&e.popover:l.popover,v=g?"pointer":"",m=l.customClass||e.customClass||"",y=l.icons||[],w=y.length>0,b=[];if(y=Array.from(new Set(y)),w&&!o.hasClass("js-social-icons-inited")){y.forEach(function(t){var n=e.iconPath+t+"."+e.iconExt,o=i({iconPath:n});b.push(o)});var j=b.join("\n"),x=c({icons:j,iconHook:d.replace(/\./g,""),options:JSON.stringify({orgid:p}),profile:JSON.stringify({profiles:f}),pointer:v,customClass:m});switch(h){case"right":o.after(x);break;case"left":o.before(x);break;case"inside":o.html(x);break;default:throw new Error('Неправильное значение options.position, допустимо "right" или "left"')}if(g){if(!e.url)throw new Error("Необходимо указать options.url - ссылку на api");u.Popover().init(d,e)}o.addClass("js-social-icons-inited")}})}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=n(9),c=n(8),u=n(0),s=n(1),a=n(19);e.icons=o},function(t,e){},function(t,e){t.exports=function(t){return'<div class="popover" role="tooltip" data-trigger-type="'+t.initedBy+'">\n    <div class="popover-content '+t.contentHook+'"></div>\n</div>'}},function(t,e){t.exports=function(t){return"<span>К сожалению, не найдено ни одного совпадения</span>"}},function(t,e){t.exports=function(t){return"<span>Ошибка получения данных, пожалуйста попробуйте еще раз</span>"}},function(t,e){t.exports=function(t){return'<span\n        class="social-icons right '+t.iconHook+" "+t.pointer+" "+t.customClass+"\"\n        data-profile='"+t.profile+"'\n        data-options='"+t.options+'\'\n        data-toggle="popover">\n    '+t.icons+"\n</span>"}},function(t,e){t.exports=function(t){return'<img src="'+t.iconPath+'" data-toggle="popover">'}},function(t,e){t.exports=function(t){return'<div class="social-profile">\n    <ul class="list-unstyled">\n        '+t.profilesHtml+'\n    </ul>\n</div>\n<div class="social-description">\n    Идентификация пользователей в социальных сетях осуществляется на основе\n    десятков параметров с помощью алгоритмов машинного обучения.\n</div>'}},function(t,e){t.exports=function(t){return'<li class="social-profile__item">\n    <a href="'+t.profileLink+'" rel="nofollow" target="_blank">\n        <img class="social-profile__photo" src="'+t.photoPreview+'"/>\n    </a>\n    <div class="social-profile__info" >\n        <a class="social-profile__soc-link" href="'+t.profileLink+'" rel="nofollow" target="_blank">\n            <img class="social-profile__soc-icon" src="'+t.socialLinkPicture+'">\n            <span class="social-profile__soc-name">'+t.firstName+" "+t.lastName+"</span>\n        </a>\n        "+t.workTemplate+"\n    </div>\n</li>"}},function(t,e){t.exports=function(t){return'<div class="popover__progress">\n    <i class="fa fa-cog fa-spin fa-fw"></i>\n</div>'}},function(t,e){t.exports=function(t){return'<div class="social-profile__comp">\n    <p>\n        <i class="social-profile__icon fa fa-building-o"></i>\n        <span class="social-profile__comp-name">'+t.work+"</span>\n    </p>\n    "+t.workPosition+"\n</div>"}},function(t,e){t.exports=function(t){return'<p>\n    <i class="social-profile__icon fa fa-user" aria-hidden="true"></i>\n    <span class="social-profile__comp-position">'+t.workPosition+"</span>\n</p>\n\n"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0);e.Popover=o.Popover;var r=n(3);e.icons=r.icons,n(4)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(p===clearTimeout)return clearTimeout(t);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function c(){g&&d&&(g=!1,d.length?h=d.concat(h):v=-1,h.length&&u())}function u(){if(!g){var t=r(c);g=!0;for(var e=h.length;e;){for(d=h,h=[];++v<e;)d&&d[v].run();v=-1,e=h.length}d=null,g=!1,i(t)}}function s(t,e){this.fun=t,this.array=e}function a(){}var l,p,f=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(t){p=o}}();var d,h=[],g=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new s(t,e)),1!==h.length||g||r(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=a,f.addListener=a,f.once=a,f.off=a,f.removeListener=a,f.removeAllListeners=a,f.emit=a,f.prependListener=a,f.prependOnceListener=a,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){(function(t,o){function r(t,n){var o={seen:[],stylize:c};return arguments.length>=3&&(o.depth=arguments[2]),arguments.length>=4&&(o.colors=arguments[3]),g(n)?o.showHidden=n:n&&e._extend(o,n),j(o.showHidden)&&(o.showHidden=!1),j(o.depth)&&(o.depth=2),j(o.colors)&&(o.colors=!1),j(o.customInspect)&&(o.customInspect=!0),o.colors&&(o.stylize=i),s(o,t,o.depth)}function i(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function c(t,e){return t}function u(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function s(t,n,o){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(o,t);return w(r)||(r=s(t,r,o)),r}var i=a(t,n);if(i)return i;var c=Object.keys(n),g=u(c);if(t.showHidden&&(c=Object.getOwnPropertyNames(n)),E(n)&&(c.indexOf("message")>=0||c.indexOf("description")>=0))return l(n);if(0===c.length){if(O(n)){var v=n.name?": "+n.name:"";return t.stylize("[Function"+v+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return l(n)}var m="",y=!1,b=["{","}"];if(h(n)&&(y=!0,b=["[","]"]),O(n)){m=" [Function"+(n.name?": "+n.name:"")+"]"}if(x(n)&&(m=" "+RegExp.prototype.toString.call(n)),_(n)&&(m=" "+Date.prototype.toUTCString.call(n)),E(n)&&(m=" "+l(n)),0===c.length&&(!y||0==n.length))return b[0]+m+b[1];if(o<0)return x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var j;return j=y?p(t,n,o,g,c):c.map(function(e){return f(t,n,o,g,e,y)}),t.seen.pop(),d(j,m,b)}function a(t,e){if(j(e))return t.stylize("undefined","undefined");if(w(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,o,r){for(var i=[],c=0,u=e.length;c<u;++c)C(e,String(c))?i.push(f(t,e,n,o,String(c),!0)):i.push("");return r.forEach(function(r){r.match(/^\d+$/)||i.push(f(t,e,n,o,r,!0))}),i}function f(t,e,n,o,r,i){var c,u,a;if(a=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},a.get?u=a.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):a.set&&(u=t.stylize("[Setter]","special")),C(o,r)||(c="["+r+"]"),u||(t.seen.indexOf(a.value)<0?(u=v(n)?s(t,a.value,null):s(t,a.value,n-1),u.indexOf("\n")>-1&&(u=i?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.stylize("[Circular]","special")),j(c)){if(i&&r.match(/^\d+$/))return u;c=JSON.stringify(""+r),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=t.stylize(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=t.stylize(c,"string"))}return c+": "+u}function d(t,e,n){var o=0;return t.reduce(function(t,e){return o++,e.indexOf("\n")>=0&&o++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function h(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function v(t){return null===t}function m(t){return null==t}function y(t){return"number"==typeof t}function w(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function j(t){return void 0===t}function x(t){return k(t)&&"[object RegExp]"===T(t)}function k(t){return"object"==typeof t&&null!==t}function _(t){return k(t)&&"[object Date]"===T(t)}function E(t){return k(t)&&("[object Error]"===T(t)||t instanceof Error)}function O(t){return"function"==typeof t}function P(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function T(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}function z(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),L[t.getMonth()],e].join(" ")}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var N=/%[sdj%]/g;e.format=function(t){if(!w(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}for(var n=1,o=arguments,i=o.length,c=String(t).replace(N,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return t}}),u=o[n];n<i;u=o[++n])v(u)||!k(u)?c+=" "+u:c+=" "+r(u);return c},e.deprecate=function(n,r){function i(){if(!c){if(o.throwDeprecation)throw new Error(r);o.traceDeprecation?console.trace(r):console.error(r),c=!0}return n.apply(this,arguments)}if(j(t.process))return function(){return e.deprecate(n,r).apply(this,arguments)};if(!0===o.noDeprecation)return n;var c=!1;return i};var D,H={};e.debuglog=function(t){if(j(D)&&(D=o.env.NODE_DEBUG||""),t=t.toUpperCase(),!H[t])if(new RegExp("\\b"+t+"\\b","i").test(D)){var n=o.pid;H[t]=function(){var o=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,o)}}else H[t]=function(){};return H[t]},e.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=g,e.isNull=v,e.isNullOrUndefined=m,e.isNumber=y,e.isString=w,e.isSymbol=b,e.isUndefined=j,e.isRegExp=x,e.isObject=k,e.isDate=_,e.isError=E,e.isFunction=O,e.isPrimitive=P,e.isBuffer=n(18);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",z(),e.format.apply(e,arguments))},e.inherits=n(17),e._extend=function(t,e){if(!e||!k(e))return t;for(var n=Object.keys(e),o=n.length;o--;)t[n[o]]=e[n[o]];return t}}).call(e,n(20),n(16))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n}])});